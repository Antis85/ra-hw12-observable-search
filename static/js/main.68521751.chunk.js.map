{"version":3,"sources":["actions/actionTypes.js","Skills.js","actions/actionCreators.js","App.js","reducers/skills.js","store/index.js","epics/index.js","index.js"],"names":["SEARCH_SKILLS_REQUEST","SEARCH_SKILLS_FAILURE","SEARCH_SKILLS_SUCCESS","CHANGE_SEARCH_FIELD","SEARCH_SKILLS_CANCELLED","Skills","useSelector","state","skills","items","loading","error","search","dispatch","useDispatch","hasQuery","trim","type","value","onChange","evt","target","payload","changeSearchField","map","o","name","id","App","initialState","reducer","combineReducers","action","console","log","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epic","combineEpics","action$","_state$","pipe","ofType","filter","debounceTime","URLSearchParams","q","switchMap","ajax","getJSON","process","retry","tap","takeUntil","catchError","e","of","epicMiddleware","createEpicMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68521751.chunk.js","sourcesContent":["export const SEARCH_SKILLS_REQUEST = 'SEARCH_SKILLS_REQUEST';\nexport const SEARCH_SKILLS_FAILURE = 'SEARCH_SKILLS_FAILURE';\nexport const SEARCH_SKILLS_SUCCESS = 'SEARCH_SKILLS_SUCCESS';\nexport const CHANGE_SEARCH_FIELD = 'CHANGE_SEARCH_FIELD';\nexport const SEARCH_SKILLS_CANCELLED = 'SEARCH_SKILLS_CANCELLED';","import React, { Fragment } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeSearchField, searchSkillsCanceled } from './actions/actionCreators';\n\nexport default function Skills() {\n    const { items, loading, error, search } = useSelector(state => state.skills);\n    const dispatch = useDispatch();\n\n    const handleSearch = evt => {\n        const { value } = evt.target;\n        dispatch(changeSearchField(value));        \n        if (!value) dispatch(searchSkillsCanceled());\n    };\n\n    const hasQuery = search.trim() !== '';\n    return (\n        <Fragment>\n            <div><input type=\"search\" value={search} onChange={handleSearch} /></div>\n            {!hasQuery && <div>Type something to search</div>}\n            {hasQuery && loading && <div>searching...</div>}\n            {error ? <div>Error occured</div> : <ul>{items.map(o => <li key={o.id}>{o.name}</li>)}</ul>}\n        </Fragment>\n    )\n}\n","import {\n  CHANGE_SEARCH_FIELD,\n  SEARCH_SKILLS_REQUEST,\n  SEARCH_SKILLS_FAILURE,\n  SEARCH_SKILLS_SUCCESS,\n  SEARCH_SKILLS_CANCELLED,\n} from './actionTypes';\n\n\nexport const searchSkillsRequest = search => ({\n  type: SEARCH_SKILLS_REQUEST,\n  payload: {search},\n});\n\nexport const searchSkillsFailure = error => ({\n  type: SEARCH_SKILLS_FAILURE,\n  payload: {error},\n});\n\nexport const searchSkillsSuccess = items => ({\n  type: SEARCH_SKILLS_SUCCESS,\n  payload: {items},\n});\n\nexport const changeSearchField = search => ({\n  type: CHANGE_SEARCH_FIELD,\n  payload: {search},\n});\n\nexport const searchSkillsCanceled = () => ({\n  type: SEARCH_SKILLS_CANCELLED,\n});","import React from 'react';\nimport './App.css';\nimport Skills from './Skills';\n\nexport default function App() {\n  return (\n    <Skills />\n  );\n}\n","import {\n  SEARCH_SKILLS_REQUEST,\n  SEARCH_SKILLS_FAILURE,\n  SEARCH_SKILLS_SUCCESS,\n  CHANGE_SEARCH_FIELD,\n  SEARCH_SKILLS_CANCELLED,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  items: [],\n  loading: false,\n  error: null,\n  search: '',\n};\n\nexport default function skillsReducer(state = initialState, action) {\n  switch (action.type) {\n    case SEARCH_SKILLS_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case SEARCH_SKILLS_FAILURE:\n      const { error } = action.payload;\n      return {\n        ...state,\n        loading: false,\n        error,\n      };\n    case SEARCH_SKILLS_SUCCESS:\n      const { items } = action.payload;\n      return {\n        ...state,\n        items,\n        loading: false,\n        error: null,\n      };\n    case SEARCH_SKILLS_CANCELLED:\n      console.log('SEARCH_SKILLS_CANCELLED_search ', state.search);\n      return { ...initialState };\n    case CHANGE_SEARCH_FIELD:\n      const { search } = action.payload;\n      console.log('search_field: ', search);\n      return {\n        ...state,\n        search,\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers, applyMiddleware, compose, } from 'redux';\nimport { combineEpics, createEpicMiddleware } from 'redux-observable';\nimport skillsReducer from '../reducers/skills';\nimport { changeSearchEpic, searchSkillsEpic } from '../epics';\n\nconst reducer = combineReducers({\n  skills: skillsReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst epic = combineEpics(\n  changeSearchEpic,\n  searchSkillsEpic,\n);\n\nconst epicMiddleware = createEpicMiddleware();\n\nconst store = createStore(reducer, composeEnhancers(\n  applyMiddleware(epicMiddleware)\n));\n\nepicMiddleware.run(epic);\n\nexport default store;\n","import { ofType } from 'redux-observable';\nimport { ajax } from 'rxjs/ajax';\nimport {\n  map,\n  tap,\n  retry,\n  filter,\n  debounceTime,\n  switchMap,\n  catchError,\n  takeUntil,\n} from 'rxjs/operators';\nimport {\n  CHANGE_SEARCH_FIELD,\n  SEARCH_SKILLS_REQUEST,\n  SEARCH_SKILLS_CANCELLED,\n} from '../actions/actionTypes';\nimport {\n  searchSkillsRequest,\n  searchSkillsSuccess,\n  searchSkillsFailure,\n} from '../actions/actionCreators';\nimport { of } from 'rxjs';\n\nexport const changeSearchEpic = (action$, _state$) =>\n  action$.pipe(\n    ofType(CHANGE_SEARCH_FIELD),\n    map((o) => o.payload.search.trim()),\n    filter((o) => o !== ''),\n    debounceTime(100),\n    map((o) => searchSkillsRequest(o))\n  );\n\nexport const searchSkillsEpic = (action$, _state$) =>\n  action$.pipe(\n    ofType(SEARCH_SKILLS_REQUEST),\n    map((o) => o.payload.search),\n    map((o) => new URLSearchParams({ q: o })),\n    switchMap((o) =>\n      ajax.getJSON(`${process.env.REACT_APP_SEARCH_URL_BUILD}?${o}`).pipe(\n        retry(3),\n        tap((o) => console.log(o)),\n        map((o) => searchSkillsSuccess(o)),\n        takeUntil(action$.pipe(ofType(SEARCH_SKILLS_CANCELLED))),\n        catchError((e) => of(searchSkillsFailure(e)))\n      )\n    )\n  );\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}